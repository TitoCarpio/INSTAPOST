(this["webpackJsonpproyecto-final"]=this["webpackJsonpproyecto-final"]||[]).push([[0],{22:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(33),o=n.n(s),l=(n(22),n(4)),r=n(8),i=n(3),d=n(1),j=function(e){var t=e.children,n=e.onClick,c=e.color,a=void 0===c?"bg-red-600":c;return Object(d.jsx)("button",{className:"flex items-center justify-center ".concat(a," font-semibold text-white p-2 w-32 m-2 rounded-full hover:").concat(a," focus:outline-none focus:ring shadow-lg hover:shadow-none transition-all duration-300 sm:w-20 h-30 sn:w-12 sn:px-9 "),onClick:n,children:t})},x=n(9),b=n(17),u=n(16),h=n(5),m=n.n(h),f="https://posts-pw2021.herokuapp.com/api/v1",g=n(19),p=n.n(g),O=function(e){var t=e.post,n=e.location,a=void 0!==n&&n,s=e.cont,o=localStorage.getItem("token"),j=localStorage.getItem("username"),h="Bearer ".concat(o),g=Object(i.g)(),O=t._id,v=t.title,w=t.description,y=t.image,N=t.comments,k=t.likes,C=t.active,S=Object(c.useState)(C),T=Object(l.a)(S,2),I=T[0],A=T[1],P=Object(c.useState)({likes:k.length,state:k.some((function(e){return e.username===j}))?"remove":"add"}),z=Object(l.a)(P,2),E=z[0],B=z[1],q=function(){switch(E.state){case"add":B({likes:E.likes+1,state:"remove"});break;case"remove":B({likes:E.likes-1,state:"add"})}},F=s,R=function(){switch(F){case 0:p.a.fire("Was Added To Favorites!","","success"),F=1;break;case 1:p.a.fire("Was Removed From Favorites!","","info"),F=0}};return Object(d.jsxs)("div",{className:"bg-white hover:bg-gray-800 shadow-xl hover:shadow-none cursor-pointer w-80 rounded-3xl flex flex-col items-center justify-center transition-all duration-500 ease-in-out",children:[Object(d.jsxs)("div",{className:"relative mt-2 mx-2",children:[Object(d.jsx)(r.b,{to:"/post/".concat(O),className:"h-56 rounded-2xl overflow-hidden",children:Object(d.jsx)("img",{className:"object-cover w-full h-full",src:y,alt:O})}),Object(d.jsxs)("div",{className:"absolute bottom-0 left-0 -mb-4 ml-3 flex flex-row",children:[Object(d.jsxs)("div",{className:"h-10 w-10 flex items-center justify-center text-xl bg-white hover:bg-red-500 text-red-500 hover:text-white rounded-2xl shadow-xl transform-gpu translate-y-0 hover:-translate-y-1 transition-all duration-300 ease-in-out",onClick:function(e){var t={likes:e.length+1};m.a.patch("".concat(f,"/post/like/").concat(O),t,{headers:{Authorization:h}}).then((function(e){var t=e.data;q(),console.log(t)})).catch((function(e){return console.log(e)}))},children:[Object(d.jsx)(x.c,{}),Object(d.jsx)("span",{className:"text-gray-800 m-1 group-hover:text-white",children:E.likes})]}),Object(d.jsxs)(r.b,{to:"/post/".concat(O),className:"h-10 w-16 ml-2 bg-white hover:bg-gray-300 flex items-center justify-center font-medium text-gray-600 hover:text-white rounded-2xl shadow-xl transform-gpu translate-y-0 hover:-translate-y-1 transition-all duration-300 ease-in-out group",children:[Object(d.jsx)(u.a,{}),Object(d.jsx)("span",{className:"text-gray-800 ml-2 group-hover:text-white",children:N.length})]}),Object(d.jsx)("div",{className:"h-10 w-10 ml-1 flex items-center justify-center text-xl bg-white hover:bg-yellow-500 text-yellow-500 hover:text-white rounded-2xl shadow-xl transform-gpu translate-y-0 hover:-translate-y-1 transition-all duration-300 ease-in-out",onClick:function(){m.a.patch("".concat(f,"/post/fav/").concat(O),{},{headers:{Authorization:h}}).then((function(e){var t=e.data;console.log(t),R()})).catch((function(e){p.a.fire({icon:"error",title:"Oops...",text:"Could Not Add To Favorites!"}),console.log(e)}))},children:Object(d.jsx)(b.a,{})}),a&&Object(d.jsx)("div",{className:"h-10 w-10 ml-1 flex items-center justify-center text-xl bg-white hover:bg-gray-500 text-gray-500 hover:text-white rounded-2xl shadow-xl transform-gpu translate-y-0 hover:-translate-y-1 transition-all duration-300 ease-in-out",onClick:function(){return g("/post/edit/".concat(O))},children:Object(d.jsx)(u.b,{})}),a&&Object(d.jsx)("div",{className:"h-10 w-10 ml-1 flex items-center justify-center text-xl bg-white hover:bg-gray-500 text-gray-500 hover:text-white rounded-2xl shadow-xl transform-gpu translate-y-0 hover:-translate-y-1 transition-all duration-300 ease-in-out",onClick:function(e){if(I){m.a.patch("".concat(f,"/post/toggle/").concat(O),{active:!1},{headers:{Authorization:h}}).then((function(e){var t=e.data;console.log(t)})).catch((function(e){return console.log(e)})),A(!1)}else{m.a.patch("".concat(f,"/post/toggle/").concat(O),{active:!1},{headers:{Authorization:h}}).then((function(e){var t=e.data;console.log(t)})).catch((function(e){return console.log(e)})),A(!0)}},children:I?Object(d.jsx)(x.a,{}):Object(d.jsx)(x.b,{})})]})]}),Object(d.jsx)(r.b,{to:"/post/".concat(O),className:"pt-10 pb-6 w-full px-4",children:Object(d.jsx)("h2",{className:"font-medium leading-none text-base tracking-wider text-gray-500",children:v})}),Object(d.jsx)(r.b,{to:"/post/".concat(O),className:"pt-10 pb-6 w-full px-4",children:Object(d.jsx)("p",{className:" text-gray-500 font-medium leading-none text-sm tracking-wider text-center pb-3",children:w})})]})},v=function(e){var t=e.posts,n=e.location,c=e.cont;return Object(d.jsx)("main",{className:"bg-white ",children:Object(d.jsx)("section",{className:"container mx-auto px-0 md:px-4 py-4",children:Object(d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 justify-items-center gap-4",children:t.map((function(e){return Object(d.jsx)(O,{post:e,location:n,cont:c},e._id)}))})})})};var w=function(e){var t=e.children,n=e.onClick;return Object(d.jsx)("button",{className:"bg-gray-500 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 border-b-4 border-gray-700 hover:border-gray-600 rounded m-1",onClick:n,children:t})};var y=function(e){var t=e.setToken,n=e.type,a=Object(c.useState)([]),s=Object(l.a)(a,2),o=s[0],r=s[1],x=Object(c.useState)(0),b=Object(l.a)(x,2),u=b[0],h=b[1],g=localStorage.getItem("token"),p="Bearer ".concat(g),O=Object(i.g)();Object(c.useEffect)((function(){m.a.get("".concat(f,"/post/all?limit=21&page=").concat(u),{headers:{Authorization:p}}).then((function(e){var t=e.data;r(t.data)})).catch((function(e){console.log(e)}))}),[u]);var y=function(){h(u+1),k()},N=function(){0!==u&&(h(u-1),k())},k=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"relative w-full h-10 bg-gray-800 text-gray-200 flex flex-row justify-between items-center sn:flex-col sn:h-full",children:[Object(d.jsxs)("label",{className:" font-semibold text-4xl mb-4 text-white-500 md:text-gray-500",children:["Insta",Object(d.jsx)("span",{className:"font-semibold text-white text-opacity-100",children:"Post"})]}),Object(d.jsxs)("ul",{className:" menu-list lg:flex lg:flex-row text-xs font-bold md:flex sm:flex sm:w-auto sn:flex sn:flex-row",children:[Object(d.jsx)("li",{className:"menu-list-item px-2 flex flex-wrap content-center"}),Object(d.jsx)("li",{className:"menu-list-item px-2 md:px-0",children:"admin"===n&&Object(d.jsx)(j,{onClick:function(){return O("/post/owner")},color:"bg-blue-400",children:"Owner"})}),Object(d.jsx)("li",{className:"menu-list-item px-2 md:px-0",children:Object(d.jsx)(j,{onClick:function(){return O("/post/fav")},color:"bg-yellow-500",children:"Fav"})}),Object(d.jsx)("li",{className:"menu-list-item px-2 md:px-0",children:"admin"===n&&Object(d.jsx)(j,{onClick:function(){return O("/post/new")},color:"bg-green-500",children:"New"})}),Object(d.jsx)("li",{className:"menu-list-item px-2 md:px-0",children:Object(d.jsx)(j,{onClick:function(){t(null),localStorage.removeItem("token")},children:"Logout"})})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"flex flex-wrap justify-center items-center m-6 md:flex w-auto just",children:[Object(d.jsx)(w,{onClick:N,children:"Prev"}),Object(d.jsx)(w,{onClick:y,children:"Next"})]}),Object(d.jsx)(v,{posts:o,type:n,cont:0}),Object(d.jsxs)("div",{className:"flex flex-wrap justify-center items-center m-6 md:flex w-auto just",children:[Object(d.jsx)(w,{onClick:N,children:"Prev"}),Object(d.jsx)(w,{onClick:y,children:"Next"})]})]})]})},N=n(18),k=n(10),C=n(11);var S=function(e){var t=e.children,n=e.onClick;return Object(d.jsx)("button",{className:"  bg-red-500  hover:bg-transparent text-white font-semibold hover:text-black py-2 px-4 border border-red-500 rounded sn:w-20 h-18 sn:text-xs",onClick:n,children:t})};var T=function(e){var t=e.user,n=e.description;return Object(d.jsxs)("div",{className:"bg-gray-100 max-h-20 overflow-auto",children:[Object(d.jsxs)("h1",{className:"font-semibold",children:[t,":"]}),Object(d.jsx)("p",{children:n})]})};var I=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("username"),n="Bearer ".concat(e),a=Object(i.h)().idPost,s=Object(c.useState)(null),o=Object(l.a)(s,2),r=o[0],j=o[1],u=Object(c.useState)({description:""}),h=Object(l.a)(u,2),g=h[0],p=h[1],O=Object(i.g)(),v=Object(c.useState)({likes:0,state:"add"}),w=Object(l.a)(v,2),y=w[0],I=w[1],A=Object(c.useState)([]),P=Object(l.a)(A,2),z=P[0],E=P[1];if(Object(c.useEffect)((function(){m.a.get("".concat(f,"/post/one/").concat(a),{headers:{Authorization:n}}).then((function(e){var n=e.data;j(n),I({likes:n.likes.length,state:n.likes.some((function(e){return e.username===t}))?"remove":"add"}),E(n.comments)})).catch((function(e){return console.log(e)}))}),[]),!r)return null;var B=r._id,q=r.title,F=r.description,R=r.image,U=(r.likes,r.comments,function(){switch(y.state){case"add":I({likes:y.likes+1,state:"remove"});break;case"remove":I({likes:y.likes-1,state:"add"})}});return Object(d.jsxs)("div",{className:"w-100 h-screen flex items-center justify-center bg-gray-100 sn:flex-col sn:h-auto sn:bg-white",children:[Object(d.jsx)("div",{className:"w-auto h-100 max-h-96 justify-center bg-gray-100 sn:w-auto sn:bg-white sn:mt-5",children:Object(d.jsx)("img",{src:R,alt:"car",className:"rounded-t-lg h-80 max-h-96 w-top object-cover justify-items-center"})}),Object(d.jsxs)("div",{className:"p-8 flex-col justify-items-center bg-white h-1/2 md:h-80 md:flex-col",children:[Object(d.jsxs)("div",{className:"flex flex-row  justify-between ",children:[Object(d.jsxs)("div",{className:"absolute h-10 w-10 flex items-center justify-center text-xl rith bg-white hover:bg-red-500 text-red-500 hover:text-white rounded-2xl shadow-xl transform-gpu translate-y-0 hover:-translate-y-1 transition-all duration-300 ease-in-out",onClick:function(e){var t={likes:e.length+1};m.a.patch("".concat(f,"/post/like/").concat(B),t,{headers:{Authorization:n}}).then((function(e){var t=e.data;console.log(t),U()})).catch((function(e){return console.log(e)}))},children:[Object(d.jsx)(x.c,{}),Object(d.jsx)("span",{className:"text-gray-800 m-1 group-hover:text-white",children:y.likes})]}),Object(d.jsx)("div",{className:"h-10 w-10 ml-11 flex items-center right-2 justify-center text-xl bg-white hover:bg-yellow-500 text-yellow-500 hover:text-white rounded-2xl shadow-xl transform-gpu translate-y-0 hover:-translate-y-1 transition-all duration-300 ease-in-out",children:Object(d.jsx)(b.a,{})}),Object(d.jsx)(S,{onClick:function(){return O("/home")},children:"Back to Home"})]}),Object(d.jsx)("h2",{className:"font-bold",children:q}),Object(d.jsx)("p",{className:" max-h-10 m-2 overflow-auto w-96 font-normal leading-none text-sm tracking-wider text-left ",children:F}),Object(d.jsx)("div",{className:"justify-items-center max-h-28 max-w-md overflow-auto m-2",children:z.map((function(e){return function(e){return Object(d.jsx)(T,{user:e.user.username,description:e.description})}(e)}))}),Object(d.jsx)("div",{className:" flex justify-center items-center m-1",children:Object(d.jsxs)("form",{className:" flex  md:m-2 sn:m-2",onSubmit:function(e){var c;e.preventDefault(),c=g,m.a.patch("".concat(f,"/post/comment/").concat(B),c,Object(k.a)({headers:"content-type: application/x-www-form-urlencoded"},"headers",{Authorization:n})).then((function(e){var n=e.data;E([].concat(Object(N.a)(z),[{user:{username:t},description:g.description}])),console.log(n)})).catch((function(e){return console.log(e)})),p({description:""})},children:[Object(d.jsxs)("label",{className:"relative cursor-pointer -top-1",children:[Object(d.jsx)("input",{type:"text",placeholder:"Input",name:"description",value:g.description,onChange:function(e){var t=e.target,n=t.name,c=t.value;p(Object(C.a)(Object(C.a)({},g),{},Object(k.a)({},n,c)))},className:"h-11 w-80 px-6 text-xs text-black bg-gray-100  border-gray-600 border-2 rounded-lg border-opacity-50 outline-none focus:border-gray-300 placeholder-gray-300 placeholder-opacity-0 transition duration-200"}),Object(d.jsx)("span",{className:"text-sm text-black text-opacity-80 bg-gray-100  absolute left-5 top- px-1 transition duration-200 input-text font-bold",children:"Comment"})]}),Object(d.jsx)("button",{className:" h-11 w-12 relative -top-4 bg-gradient-to-tr from-yellow-500 to-pink-400  rounded-lg py-2 px-4 mt-3",type:"submit",children:Object(d.jsx)(x.d,{})})]})})]})]})},A=function(e){var t=e.children;return Object(d.jsxs)("div",{className:" flex flex-col sm:flex-row items-center",children:[Object(d.jsx)("h2",{className:" font-semibold text-lg text-center w-full",children:t}),Object(d.jsx)("div",{className:" w-full sm:w-auto sm:ml-auto mt-3 sm:mt-0"})]})},P=function(e){var t=e.children,n=e.bgColor,c=void 0===n?"bg-white":n,a=e.hoverColor,s=void 0===a?"bg-gray-100":a,o=e.textColor,l=void 0===o?"text-gray-600":o,r=e.onClick,i=e.type,j=void 0===i?"button":i;return Object(d.jsx)("button",{className:"mb-2 md:mb-0 ".concat(c," px-5 py-2 text-sm shadow-sm font-medium tracking-wide ").concat(l," rounded-full hover:shadow-lg hover:").concat(s),onClick:r,type:j,children:t})},z=function(e){var t=e.label,n=e.required,c=e.placeholder,a=e.type,s=void 0===a?"text":a,o=e.name,l=e.value,r=e.onChange;return Object(d.jsxs)("div",{className:"mb-3 space-y-2 w-full text-xs",children:[Object(d.jsxs)("label",{className:" font-bold text-gray-600 py-2",children:[t," ",n&&Object(d.jsx)("abbr",{title:"required",className:"text-red-600",children:"*"})]}),Object(d.jsx)("input",{placeholder:c,className:" appearance-none block w-full bg-grey-lighter text-grey-darker border border-gray-400 rounded-lg h-10 px-4",required:n,type:s,name:o,value:l,onChange:r})]})},E=function(e){var t=e.label,n=e.required,c=e.name,a=e.placeholder,s=e.value,o=e.onChange;return Object(d.jsxs)("div",{className:" flex-auto w-full mb-1 text-xs space-y-2",children:[Object(d.jsx)("label",{className:" font-bold text-gray-600 py-2",children:t}),Object(d.jsx)("textarea",{required:n,name:c,placeholder:a,spellCheck:"false",value:s,onChange:o,className:" w-full min-h-[100px] max-h-[300px] h-28 appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded-lg py-4 px-4"})]})},B=function(e){var t=e.onSubmit,n=(e.handleUpdate,e.editPost),a=Object(c.useState)({title:"",description:"",image:""}),s=Object(l.a)(a,2),o=s[0],r=s[1];Object(c.useEffect)((function(){n&&r(n)}),[n]);var j=Object(i.g)(),x=function(e){var t=e.target,n=t.name,c=t.value;r(Object(C.a)(Object(C.a)({},o),{},Object(k.a)({},n,c)))};return Object(d.jsx)("div",{className:" mt-5",children:Object(d.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(d.jsx)(z,{label:"Title",required:!0,placeholder:"Titulo de Post",name:"title",value:o.title,onChange:x}),Object(d.jsx)(E,{label:"Description",required:!0,placeholder:"Ingrese la descripcion de tu post",name:"description",value:o.description,onChange:x}),Object(d.jsx)(z,{label:"URL image",required:!0,placeholder:"URL de imagen",name:"image",value:o.image,onChange:x}),Object(d.jsxs)("p",{className:" text-xs text-red-500 text-right my-3",children:["Campos requeridos estaran marcados con un asterisco"," ",Object(d.jsx)("abbr",{title:"Required field",children:"*"})]}),Object(d.jsxs)("div",{className:" mt-5 text-right md:space-x-3 md:block flex flex-col-reverse",children:[Object(d.jsx)(P,{onClick:function(){return j("/home")},children:"Exit"}),n?Object(d.jsx)(P,{bgColor:"bg-blue-400",hoverColor:"bg-blue-500",textColor:"text-white",type:"submit",children:"Update"}):Object(d.jsx)(P,{bgColor:"bg-green-400",hoverColor:"bg-green-500",textColor:"text-white",type:"submit",children:"Save"})]})]})})};var q=function(){var e=localStorage.getItem("token"),t="Bearer ".concat(e),n=Object(i.g)(),a=Object(i.h)().idPost,s=Object(c.useState)(null),o=Object(l.a)(s,2),r=o[0],j=o[1];return Object(c.useEffect)((function(){a&&m.a.get("".concat(f,"/post/one/").concat(a),{headers:{Authorization:t}}).then((function(e){var t=e.data;j(t)})).catch((function(e){return console.log(e)}))}),[]),Object(d.jsxs)("div",{className:"min-h-screen flex justify-center bg-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-500 bg-no-repeat bg-cover relative items-center",children:[Object(d.jsx)("div",{className:"absolute bg-black opacity-60 inset-0 z-0"}),Object(d.jsx)("div",{className:"max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-lg z-10",children:Object(d.jsx)("div",{className:"grid  gap-8 grid-cols-1",children:Object(d.jsxs)("div",{className:"flex flex-col ",children:[Object(d.jsx)(A,{children:"CREATE POST"}),Object(d.jsx)(B,{onSubmit:a?function(e){m.a.put("".concat(f,"/post/update/").concat(a),e,{headers:{Authorization:t}}).then((function(e){var t=e.data;console.log(t),n("/home")})).catch((function(e){return console.log(e)}))}:function(e){m.a.post("".concat(f,"/post/create"),e,{headers:{Authorization:t}}).then((function(e){var t=e.data;console.log(t),n("/home")})).catch((function(e){return console.log(e)}))},handleUpdate:function(){},editPost:r})]})})})]})};var F=function(e){var t=e.type,n=Object(c.useState)([]),a=Object(l.a)(n,2),s=a[0],o=a[1],r=Object(c.useState)(0),x=Object(l.a)(r,2),b=x[0],u=x[1],h=localStorage.getItem("token"),g="Bearer ".concat(h),p=Object(i.g)();Object(c.useEffect)((function(){m.a.get("".concat(f,"/post/owned?limit=21&page=").concat(b),{headers:{Authorization:g}}).then((function(e){var t=e.data;o(t.data)})).catch((function(e){console.log(e)}))}),[b]);var O=function(){u(b+1),N()},y=function(){0!==b&&(u(b-1),N())},N=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"relative w-full h-10 bg-gray-800 text-gray-200 flex flex-row justify-between items-center sn:flex-col sn:h-full",children:[Object(d.jsxs)("label",{className:" font-semibold text-4xl mb-4 text-white-500 ",children:["Insta",Object(d.jsx)("span",{className:"font-semibold text-white text-opacity-100",children:"Post"})]}),Object(d.jsxs)("ul",{className:"menu-list lg:flex lg:flex-row text-xs font-bold sn:flex flex-row sm:flex sm:flex sm:w-auto sn:flex sn:flex-row",children:[Object(d.jsx)("li",{className:"menu-list-item px-2 flex flex-wrap content-center"}),Object(d.jsx)("li",{className:"menu-list-item px-2",children:Object(d.jsx)(j,{onClick:function(){return p("/post/fav")},color:"bg-yellow-500",children:"Fav"})}),Object(d.jsx)("li",{className:"menu-list-item px-2",children:"admin"===t&&Object(d.jsx)(j,{onClick:function(){return p("/post/new")},color:"bg-green-500",children:"New"})}),Object(d.jsx)("li",{className:"menu-list-item px-2",children:Object(d.jsx)(j,{onClick:function(){return p("/home")},children:"Back"})})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"flex flex-wrap justify-center items-center m-6 md:flex w-auto just",children:[Object(d.jsx)(w,{onClick:y,children:"Prev"}),Object(d.jsx)(w,{onClick:O,children:"Next"})]}),Object(d.jsx)(v,{posts:s,location:!0}),Object(d.jsxs)("div",{className:"flex flex-wrap justify-center items-center m-6 md:flex w-auto just",children:[Object(d.jsx)(w,{onClick:y,children:"Prev"}),Object(d.jsx)(w,{onClick:O,children:"Next"})]})]})]})};var R=function(e){var t=e.type,n=Object(c.useState)([]),a=Object(l.a)(n,2),s=a[0],o=a[1],r=Object(c.useState)(0),x=Object(l.a)(r,2),b=(x[0],x[1],localStorage.getItem("token")),u="Bearer ".concat(b),h=Object(i.g)();Object(c.useEffect)((function(){m.a.get("".concat(f,"/post/fav"),{headers:{Authorization:u}}).then((function(e){var t=e.data.favorites;g(t)})).catch((function(e){console.log(e)}))}),[]);var g=function(e){e.map((function(e){m.a.get("".concat(f,"/post/one/").concat(e),{headers:{Authorization:u}}).then((function(e){var t=e.data;o((function(e){return[].concat(Object(N.a)(e),[t])}))})).catch((function(e){return console.log(e)}))}))};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"relative w-full h-10 bg-gray-800 text-gray-200 flex flex-row justify-between items-center sn:flex-col sn:h-full",children:[Object(d.jsxs)("label",{className:" font-semibold text-4xl mb-4 text-white-500 md:text-gray-500",children:["Insta",Object(d.jsx)("span",{className:"font-semibold text-white text-opacity-100",children:"Post"})]}),Object(d.jsxs)("ul",{className:"hidden menu-list lg:flex lg:flex-row text-xs font-bold md:flex sm:flex sm:w-auto sn:flex sn:flex-row",children:[Object(d.jsx)("li",{className:"menu-list-item px-2 flex flex-wrap content-center"}),Object(d.jsx)("li",{className:"menu-list-item px-2",children:"admin"===t&&Object(d.jsx)(j,{onClick:function(){return h("/post/owner")},color:"bg-blue-400",children:"Owner"})}),Object(d.jsx)("li",{className:"menu-list-item px-2",children:"admin"===t&&Object(d.jsx)(j,{onClick:function(){return h("/post/new")},color:"bg-green-500",children:"New"})}),Object(d.jsx)("li",{className:"menu-list-item px-2",children:Object(d.jsx)(j,{onClick:function(){return h("/home")},children:"Back"})})]})]}),Object(d.jsx)("div",{children:Object(d.jsx)(v,{posts:s,cont:1})})]})};var U=function(e){var t=e.setToken,n=e.type;return Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/home",element:Object(d.jsx)(y,{setToken:t,type:n})}),Object(d.jsx)(i.b,{path:"/post/:idPost",element:Object(d.jsx)(I,{})}),Object(d.jsx)(i.b,{path:"/post/owner",element:Object(d.jsx)(F,{type:n})}),Object(d.jsx)(i.b,{path:"/post/fav",element:Object(d.jsx)(R,{type:n})}),Object(d.jsx)(i.b,{path:"/post/new",element:Object(d.jsx)(q,{})}),Object(d.jsx)(i.b,{path:"/post/edit/:idPost",element:Object(d.jsx)(q,{})}),Object(d.jsx)(i.b,{path:"*",element:Object(d.jsx)(i.a,{to:"/home"})})]})};var D=function(e){var t=e.setToken,n=e.type;return Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/home",element:Object(d.jsx)(y,{setToken:t,type:n})}),Object(d.jsx)(i.b,{path:"/post/:idPost",element:Object(d.jsx)(I,{})}),Object(d.jsx)(i.b,{path:"/post/fav",element:Object(d.jsx)(R,{type:n})}),Object(d.jsx)(i.b,{path:"*",element:Object(d.jsx)(i.a,{to:"/home"})})]})},L=function(){return Object(d.jsx)("div",{className:"w-8 h-8 border-4 border-white rounded-full loader"})},W=function(e){var t=e.children,n=e.loading;return Object(d.jsx)("button",{type:"submit",disabled:n,className:"w-full h-12 rounded-lg bg-gradient-to-tr from-pink-500 to-yellow-400  uppercase font-semibold hover:bg-gray-400 text-gray-100 transition mb-4 flex items-center justify-center",children:n?Object(d.jsx)(L,{}):t})},_=function(e){var t=e.type,n=void 0===t?"text":t,c=e.name,a=e.placeholder,s=e.onChange;return Object(d.jsx)("input",{type:n,name:c,onChange:s,className:"w-full h-12 rounded-lg px-4 text-lg  focus:ring-gray-400-600 mb-4 shadow-2xl",placeholder:a})},J=function(e){var t=e.label;return Object(d.jsxs)("p",{className:"text-right mb-4 text-gray-900 text-xl font-bold",children:[t," "]})};var H=function(e){var t=e.setToken,n=Object(c.useState)({username:"",password:""}),a=Object(l.a)(n,2),s=a[0],o=a[1],r=Object(c.useState)(!1),i=Object(l.a)(r,2),j=i[0],x=i[1],b=function(e){var t=e.target,n=t.name,c=t.value;o(Object(C.a)(Object(C.a)({},s),{},Object(k.a)({},n,c)))};return Object(d.jsx)("div",{className:"w-full h-screen flex items-center justify-center bg-gray-800",children:Object(d.jsxs)("form",{className:"bg-gray-400 sm:w-110 lg:w-85 w-96 h-auto rounded-lg pt-8 pb-8 px-8 flex flex-col items-center",onSubmit:function(e){e.preventDefault(),x(!0),m.a.post("".concat(f,"/auth/signin"),s).then((function(e){var n=e.data.token;x(!1),t(n)})).catch((function(e){console.log(e),x(!1)}))},children:[Object(d.jsxs)("label",{className:" font-semibold text-6xl mb-4 ",children:["Insta",Object(d.jsx)("span",{className:"font-semibold text-white text-opacity-100",children:"Post"})]}),Object(d.jsx)(_,{type:"text",name:"username",placeholder:"Email",onChange:b}),Object(d.jsx)(_,{type:"password",name:"password",placeholder:"Password",onChange:b}),Object(d.jsx)(W,{loading:j,children:"Login"}),Object(d.jsx)(J,{label:"Welcome to INSTAPOST"})]})})},M=function(e){var t=e.setToken;return Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/login",element:Object(d.jsx)(H,{setToken:t})}),Object(d.jsx)(i.b,{path:"*",element:Object(d.jsx)(i.a,{to:"/login"})})]})},G=n(34);var K=function(){var e=Object(c.useState)(localStorage.getItem("token")||null),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),o=Object(l.a)(s,2),i=o[0],j=o[1];return Object(c.useEffect)((function(){if(n){localStorage.setItem("token",n);Object(G.a)(n);m.a.get("".concat(f,"/auth/whoami"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t=e.data,n=t.role,c=t.username;j(n),localStorage.setItem("username",c)}))}else j(null)}),[n]),Object(d.jsxs)(r.a,{children:["admin"===i&&Object(d.jsx)(U,{setToken:a,type:i}),"user"===i&&Object(d.jsx)(D,{setToken:a,type:i}),!i&&Object(d.jsx)(M,{setToken:a})]})};o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(K,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.23c7e758.chunk.js.map